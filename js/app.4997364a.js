(function(e){function t(t){for(var n,i,c=t[0],s=t[1],l=t[2],u=0,d=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);v&&v(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},o=[];function i(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"b33690ea"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var n=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=i(e);var l=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,a[1](l)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/xshed/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var v=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},"08d3":function(e,t,a){},"0a24":function(e,t,a){"use strict";a("0d07")},"0d07":function(e,t,a){},"33e5":function(e,t,a){},"5ced":function(e,t,a){},6099:function(e,t,a){},8153:function(e,t,a){},"85ec":function(e,t,a){},"994f":function(e,t,a){"use strict";a("33e5")},"9ca5":function(e,t,a){"use strict";a("6099")},cccb:function(e,t,a){"use strict";a("5ced")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("Navigation"),a("v-main",{staticClass:"mt-4 mx-2"},[a("router-view")],1),a("Dialogs")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",dense:"",elevation:"3"}},[a("div",{staticClass:"d-flex w-100",class:{container:this.$vuetify.breakpoint.lgAndUp}},[a("v-btn",{staticClass:"btn-black",attrs:{tile:"",icon:"",fab:"",exact:"",to:{name:"Home"}}},[a("v-icon",[e._v("mdi-home")])],1),a("v-spacer"),a("v-btn",{staticClass:"btn-black",attrs:{icon:"",tile:""},on:{click:e.toggleAppTheme}},[a("v-icon",[e._v("mdi-theme-light-dark")])],1),a("v-btn",{staticClass:"btn-black",attrs:{icon:"",tile:"",exact:"",to:{name:"Settings"}}},[a("v-icon",[e._v("mdi-cog")])],1),a("UserAccounts")],1)])},c=[],s=a("d4ec"),l=a("bee2"),u=a("262e"),v=a("2caf"),d=a("9ab4"),f=a("1b40"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{icon:"",fab:""}},"v-btn",r,!1),n),[a("v-avatar",{attrs:{color:"primary",size:"40"}},[a("span",{staticClass:"white--text text-subtitle-1"},[e._v(e._s(e.userInitials(e.selectedProfile.Title)))])])],1)]}}])},[a("v-list",{attrs:{nav:""}},[a("v-list-item-group",{attrs:{color:"primary"},model:{value:e.selectedItem,callback:function(t){e.selectedItem=t},expression:"selectedItem"}},[e._l(e.userProfiles,(function(t){return[a("v-list-item",{key:t.Id},[a("v-list-item-avatar",[a("v-avatar",{attrs:{color:t.Color,size:"40"}},[a("span",{staticClass:"white--text text-subtitle-1"},[e._v(e._s(e.userInitials(t.Title)))])])],1),a("v-list-item-content",[e._v(e._s(t.Title))])],1)]}))],2),a("v-list-item",{attrs:{link:""},on:{click:e.addProfile}},[a("v-list-item-avatar",[a("v-icon",[e._v("mdi-plus")])],1),a("v-list-item-content",[e._v("Add")])],1)],1)],1)},m=[],h=a("2909");a("4d63"),a("ac1f"),a("25f0"),a("a1f0");function b(e){var t,a,n=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),r=Object(h["a"])(e.matchAll(n))||[];return(((null===(t=r.shift())||void 0===t?void 0:t[1])||"")+((null===(a=r.pop())||void 0===a?void 0:a[1])||"")).toUpperCase()}var y=a("2f62"),g=a("675f"),k="xshed.storage",O="xshed.calendar-view",j=function(e){e.subscribe((function(e,t){window.localStorage.setItem(k,JSON.stringify(t))}))},w=[j];a("5319"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7");function D(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var x=JSON.parse(window.localStorage.getItem(k)||"{}"),C={Id:D(),Title:"Default",Color:"#1867c0"},_=function e(){Object(s["a"])(this,e),this.events=x.events||[],this.defaultProfile=x.defaultProfile||C,this.profiles=x.profiles||[C],this.selectedProfileId=x.selectedProfileId||C.Id},E=(a("d81d"),a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("7db0"),a("99af"),a("3835"));a("fb6a"),a("1276"),a("a15b");function T(e,t){var a=null!==e&&void 0!==e?e:new Date,n=6e4*(t||a.getTimezoneOffset());return new Date(a.getTime()-n).toISOString().slice(0,-1)}function V(e){var t=T(e),a=t.split(".")[0].replace("T"," ").split(" "),n=Object(E["a"])(a,2),r=n[0],o=n[1],i=o.slice(0,5);return[r,i].join(" ")}function S(e){var t=T(e);return t.slice(0,10)}var I=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"events",get:function(){return this.state.events.map(P)}},{key:"categories",get:function(){var e=this.state.events.reduce((function(e,t){return e.add(t.Category)}),new Set);return Object(h["a"])(e.values()).filter(Boolean)}},{key:"scopes",get:function(){var e=this.state.events.reduce((function(e,t){return e.add(t.Scope||"")}),new Set);return Object(h["a"])(e.values()).filter(Boolean)}},{key:"userProfile",get:function(){var e=this.state.selectedProfileId;return this.getters.userProfileById(e)}},{key:"userProfileById",get:function(){var e=this;return function(t){return e.state.profiles.find((function(e){return e.Id===t}))||e.state.defaultProfile}}},{key:"userProfileByTitle",get:function(){var e=this;return function(t){return e.state.profiles.find((function(e){return e.Title===t}))||e.state.defaultProfile}}}]),a}(g["b"]),P=function(e){var t=e.AllDay?S(new Date(e.Start)):V(new Date(e.Start)),a=e.AllDay?S(new Date(e.End)):V(new Date(e.End)),n=L.getters.userProfileById(e.ProfileId);return{id:e.Id,name:e.Scope?"".concat(e.Category,":").concat(e.Scope):e.Category,start:t,end:a,allDay:!!e.AllDay,type:e.Category,scope:e.Scope,comment:e.Comment,category:n.Title}},A=(a("c740"),a("a434"),function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"setEvent",value:function(e){var t=this.state.events,a=t.findIndex((function(t){return t.Id===e.Id}));-1!==a?n["default"].set(t,a,e):t.push(e)}},{key:"removeEvent",value:function(e){var t=this.state.events,a=t.findIndex((function(t){return t.Id===e}));-1!==a&&t.splice(a,1)}},{key:"setProfile",value:function(e){this.state.profiles.push(e)}},{key:"setSelectedProfile",value:function(e){this.state.selectedProfileId=e}},{key:"resetState",value:function(){this.state.profiles=[],this.state.events=[],this.state.selectedProfileId=""}},{key:"commitState",value:function(){}}]),a}(g["d"])),$=a("5530"),R=a("1da1"),M=(a("96cf"),function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"addEvent",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.ProfileId||this.getters.userProfile.Id,n=Object($["a"])(Object($["a"])({},t),{},{ProfileId:a}),this.commit("setEvent",n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateEvent",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.commit("setEvent",t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteEvent",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.commit("removeEvent",t.id);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addProfile",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=D(),n={Id:a,Title:t.Title,Color:t.Color},this.commit("setProfile",n);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"cleanUpData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.commit("resetState"),localStorage.clear();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"importDataWithOverwrite",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.state.events=t.events||[],this.state.profiles=t.profiles||[],this.state.defaultProfile=t.defaultProfile,this.state.selectedProfileId=t.selectedProfileId||t.defaultProfile.Id,this.commit("commitState");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.state.events=[].concat(Object(h["a"])(this.state.events),Object(h["a"])(t.events||[])),this.state.profiles=[].concat(Object(h["a"])(this.state.profiles),Object(h["a"])(t.profiles||[])),this.commit("commitState");case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(g["a"])),F={},B=new g["c"]({state:_,getters:I,mutations:A,actions:M,modules:F}),U=B;n["default"].use(y["b"]);var N=Object(g["e"])(U,{plugins:w}),L=U.context(N),q=new y["b"].Store({state:{},mutations:{},actions:{},modules:{}}),H=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selectedItem="",e}return Object(l["a"])(a,[{key:"userProfiles",get:function(){return L.state.profiles}},{key:"selectedProfile",get:function(){return L.getters.userProfile}},{key:"userInitials",value:function(e){return b(e)}},{key:"addProfile",value:function(){this.$dialogs.profileDialog.open()}}]),a}(f["e"]);H=Object(d["a"])([f["a"]],H);var W=H,z=W,J=a("2877"),Y=a("6544"),K=a.n(Y),G=a("8212"),Q=a("8336"),X=a("132d"),Z=a("8860"),ee=a("da13"),te=a("8270"),ae=a("5d23"),ne=a("1baa"),re=a("e449"),oe=Object(J["a"])(z,p,m,!1,null,"a9f6f062",null),ie=oe.exports;K()(oe,{VAvatar:G["a"],VBtn:Q["a"],VIcon:X["a"],VList:Z["a"],VListItem:ee["a"],VListItemAvatar:te["a"],VListItemContent:ae["a"],VListItemGroup:ne["a"],VMenu:re["a"]});var ce=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"toggleAppTheme",value:function(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark;var e=this.$vuetify.theme.dark?"dark":"light";localStorage.setItem("xshed.app-theme",e)}}]),a}(f["e"]);ce=Object(d["a"])([Object(f["a"])({components:{UserAccounts:ie}})],ce);var se=ce,le=se,ue=(a("fdfd"),a("40dc")),ve=a("2fa4"),de=Object(J["a"])(le,i,c,!1,null,"d41387a4",null),fe=de.exports;K()(de,{VAppBar:ue["a"],VBtn:Q["a"],VIcon:X["a"],VSpacer:ve["a"]});var pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("AddProfileDialog",{ref:"profileDialog"}),a("ConfirmDialog",{ref:"confirmDialog"}),a("NewEventDialog",{ref:"newEventDialog"}),a("EditEventDialog",{ref:"editEventDialog"})],1)},me=[],he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"content-class":"add-profile-dialog",fullscreen:e.$vuetify.breakpoint.smAndDown,"max-width":"700px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-sheet",{staticClass:"pb-4"},[a("v-sheet",{attrs:{dark:e.isBackgroundWhite}},[a("div",{staticClass:"dialog-title",style:{backgroundColor:e.profile.Color}},[a("div",{staticClass:"text-center text-h5"},[e._v("Customize your profiles")]),a("v-avatar",{staticClass:"default-avatar",attrs:{size:"80",color:e.profile.Color}},[a("v-icon",{attrs:{large:""}},[e._v("mdi-account")])],1)],1)]),a("div",{staticClass:"d-flex flex-column mt-16 mx-4"},[a("v-text-field",{attrs:{filled:"",autofocus:"",placeholder:"Add a name or a label like Work or Personal"},model:{value:e.profile.Title,callback:function(t){e.$set(e.profile,"Title",t)},expression:"profile.Title"}}),a("v-card",{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[a("v-card-subtitle",{staticClass:"pb-0"},[e._v("Pick a theme color")]),a("v-color-picker",{staticClass:"color-picker",attrs:{mode:"hexa","hide-canvas":"","hide-inputs":"","hide-sliders":"","show-swatches":"","swatches-max-height":"300px"},model:{value:e.profile.Color,callback:function(t){e.$set(e.profile,"Color",t)},expression:"profile.Color"}})],1),a("div",{staticClass:"d-flex justify-end mt-4"},[a("v-btn",{attrs:{color:"primary",disabled:!e.profile.Title},on:{click:e.save}},[e._v("Done")])],1)],1)],1)],1)},be=[],ye=a("535d"),ge=a("03da"),ke=Object(ye["fromHex"])("#FFFFFF").rgba;function Oe(e){return Object(ge["contrastRatio"])(Object(ye["fromHex"])(e).rgba,ke)>2}var je=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.dialog=!1,e.profile=e.getDefaultProfile(),e}return Object(l["a"])(a,[{key:"isBackgroundWhite",get:function(){return Oe(this.profile.Color)}},{key:"open",value:function(){this.dialog=!0,this.profile=this.getDefaultProfile()}},{key:"getDefaultProfile",value:function(){return{Title:"",Color:"#1976d2"}}},{key:"save",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.actions.addProfile(this.profile);case 2:this.close();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.dialog=!1}}]),a}(f["e"]);je=Object(d["a"])([f["a"]],je);var we=je,De=we,xe=(a("9ca5"),a("f572"),a("b0af")),Ce=a("99d9"),_e=a("03a4"),Ee=a("169a"),Te=a("8dd9"),Ve=a("8654"),Se=Object(J["a"])(De,he,be,!1,null,"8e0ff444",null),Ie=Se.exports;K()(Se,{VAvatar:G["a"],VBtn:Q["a"],VCard:xe["a"],VCardSubtitle:Ce["b"],VColorPicker:_e["a"],VDialog:Ee["a"],VIcon:X["a"],VSheet:Te["a"],VTextField:Ve["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4"},[e._v(e._s(e.message))]),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(t){return e.confirm(t)}}},[e._v("Yes")]),a("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Cancel")])],1)],1)],1)},Ae=[],$e=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.dialog=!1,e.resolve=null,e.reject=null,e.message=null,e.title=null,e.options=e.getDefaultOptions(),e}return Object(l["a"])(a,[{key:"onDialogChanged",value:function(e){e||(this.options=this.getDefaultOptions())}},{key:"open",value:function(e,t,a){var n=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,a),new Promise((function(e,t){n.resolve=e,n.reject=t}))}},{key:"confirm",value:function(){this.resolve&&this.resolve(!0),this.dialog=!1}},{key:"cancel",value:function(){this.resolve&&this.resolve(!1),this.dialog=!1}},{key:"getDefaultOptions",value:function(){return{color:"primary",width:290}}}]),a}(f["e"]);Object(d["a"])([Object(f["f"])("dialog")],$e.prototype,"onDialogChanged",null),$e=Object(d["a"])([f["a"]],$e);var Re=$e,Me=Re,Fe=a("71d9"),Be=a("2a7f"),Ue=Object(J["a"])(Me,Pe,Ae,!1,null,"e23f415c",null),Ne=Ue.exports;K()(Ue,{VBtn:Q["a"],VCard:xe["a"],VCardActions:Ce["a"],VCardText:Ce["c"],VDialog:Ee["a"],VSpacer:ve["a"],VToolbar:Fe["a"],VToolbarTitle:Be["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.fullscreenModal,"max-width":"700px"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e.model?a("NewEvent",{attrs:{timestamp:e.timestamp,event:e.event,loading:e.loading,categories:e.categories,scopes:e.scopes,profiles:e.profiles},on:{close:e.close,save:e.onEventSave}}):e._e()],1)},qe=[],He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v("Create visit event")]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}},[a("v-row",[a("v-col",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:""},on:{blur:function(t){e.startDate=e.parseDate(e.startDateFormatted)}},model:{value:e.startDateFormatted,callback:function(t){e.startDateFormatted=t},expression:"startDateFormatted"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.menu=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.startDate)}}},[e._v("OK")])],1)],1)],1),a("v-col",[a("v-switch",{attrs:{label:"All day visit"},model:{value:e.allDay,callback:function(t){e.allDay=t},expression:"allDay"}})],1)],1),e.allDay?e._e():a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:e.visitTimeItems,"prepend-icon":"mdi-clock-time-two-outline",label:"Start time"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("v-col",[a("v-autocomplete",{attrs:{items:e.visitTimeItems,rules:[function(t){return t>e.startTime||"End time should be greater than Start time"}],"prepend-icon":"mdi-clock-time-five-outline",label:"End time"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1),a("v-row",[a("v-col",[a("v-combobox",{attrs:{rules:e.validation.category,items:e.categories,"prepend-icon":"mdi-tune-variant",label:"Category"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),a("v-col",[a("v-combobox",{attrs:{items:e.scopes,"prepend-icon":"mdi-tune",label:"Scope"},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1)],1),a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:e.profiles,"item-text":"Title","return-object":"","prepend-icon":"mdi-account",label:"Profile"},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{label:"Comment",counter:"",rows:"3","auto-grow":"","prepend-icon":"mdi-message-reply-text-outline"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:e.closeDialog}},[e._v("Close")]),a("v-btn",{attrs:{color:"primary",disabled:!e.formModel,loading:e.loading},on:{click:e.save}},[e._v("Create")])],1)],1)},We=[];a("4d90"),a("a9e3");function ze(e,t){return new Date(e.getTime()+6e4*t)}function Je(e){var t={timeStyle:"short",hour12:!1};return new Intl.DateTimeFormat("en-US",t).format(e)}function Ye(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,n=new Date,r=e.split(":"),o=Object(E["a"])(r,2),i=o[0],c=o[1];n.setHours(Number(i),Number(c),0,0);var s=[];while(Je(n)<=t)s.push(Je(n)),n=ze(n,a);return s}var Ke=function(e){return function(t){return!!t||"".concat(e," field is mandatory")}},Ge=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.formModel=!1,e.menu=!1,e.startDate=e.getLocalISODate(),e.startDateFormatted=e.formatDate(e.getLocalISODate()),e.startTime="",e.endTime="",e.allDay=!1,e.profile=L.getters.userProfile,e.category="",e.scope="",e.comment="",e.validation={category:[Ke("Category")]},e}return Object(l["a"])(a,[{key:"startDateUpdate",value:function(){this.startDateFormatted=this.formatDate(this.startDate)}},{key:"form",get:function(){return this.$refs.form}},{key:"visitTimeItems",get:function(){var e="7:00",t="20:00",a=15;return Ye(e,t,a)}},{key:"formatDate",value:function(e){if(!e)return"";var t=e.split("-"),a=Object(E["a"])(t,3),n=a[0],r=a[1],o=a[2];return"".concat(o,"/").concat(r,"/").concat(n)}},{key:"parseDate",value:function(e){if(!e)return"";var t=e.split("/"),a=Object(E["a"])(t,3),n=a[0],r=a[1],o=a[2];return"".concat(o,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))}},{key:"created",value:function(){var e=new Date,t=function(e){return e.toLocaleString("default",{minimumIntegerDigits:2})},a=15;if(this.timestamp){this.startDate=this.timestamp.date,this.startTime="".concat(t(this.timestamp.hour),":00");var n=ze(new Date("".concat(this.startDate," ").concat(t(this.timestamp.hour),":00")),a);this.endTime="".concat(t(n.getHours()),":").concat(t(n.getMinutes()))}else{if(this.event){var r=this.event.start.split(" "),o=Object(E["a"])(r,2),i=o[0],c=o[1];this.startDate=i,this.startTime=c;var s=this.event.end.split(" "),l=Object(E["a"])(s,2),u=(l[0],l[1]);return this.endTime=u,this.category=this.event.type,this.scope=this.event.scope,this.comment=this.event.comment,void(this.event.category&&(this.profile=L.getters.userProfileByTitle(this.event.category)))}this.startDate=e.toISOString().substr(0,10),this.startTime="".concat(t(e.getHours()),":00");var v=ze(new Date("".concat(this.startDate," ").concat(t(e.getHours()),":00")),a);this.endTime="".concat(t(v.getHours()),":").concat(t(v.getMinutes()))}}},{key:"makeDateTime",value:function(e,t){return"".concat(e," ").concat(t)}},{key:"closeDialog",value:function(){}},{key:"save",value:function(){var e;if(!this.form.validate())return null;var t=this.allDay?"00:00":this.startTime,a=this.allDay?"23:59":this.endTime;return{Id:D(),Start:this.makeDateTime(this.startDate,t),End:this.makeDateTime(this.startDate,a),AllDay:this.allDay,Category:this.category,Scope:this.scope,Comment:this.comment,ProfileId:null===(e=this.profile)||void 0===e?void 0:e.Id}}},{key:"getLocalISODate",value:function(){var e=T(new Date);return e.substr(0,10)}}]),a}(f["e"]);Object(d["a"])([Object(f["c"])({required:!1,type:Object})],Ge.prototype,"timestamp",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Object})],Ge.prototype,"event",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],Ge.prototype,"categories",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],Ge.prototype,"scopes",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],Ge.prototype,"profiles",void 0),Object(d["a"])([Object(f["c"])({type:Boolean})],Ge.prototype,"loading",void 0),Object(d["a"])([Object(f["c"])({type:Boolean})],Ge.prototype,"isAdmin",void 0),Object(d["a"])([Object(f["f"])("startDate")],Ge.prototype,"startDateUpdate",null),Object(d["a"])([Object(f["b"])("close")],Ge.prototype,"closeDialog",null),Object(d["a"])([Object(f["b"])()],Ge.prototype,"save",null),Ge=Object(d["a"])([f["a"]],Ge);var Qe=Ge,Xe=Qe,Ze=a("c6a6"),et=a("62ad"),tt=a("2b5d"),at=a("a523"),nt=a("2e4b"),rt=a("4bd4"),ot=a("0fd9"),it=a("b73d"),ct=a("a844"),st=Object(J["a"])(Xe,He,We,!1,null,"18af3c42",null),lt=st.exports;K()(st,{VAutocomplete:Ze["a"],VBtn:Q["a"],VCard:xe["a"],VCardActions:Ce["a"],VCardText:Ce["c"],VCardTitle:Ce["d"],VCol:et["a"],VCombobox:tt["a"],VContainer:at["a"],VDatePicker:nt["a"],VForm:rt["a"],VMenu:re["a"],VRow:ot["a"],VSpacer:ve["a"],VSwitch:it["a"],VTextField:Ve["a"],VTextarea:ct["a"]});var ut=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.model=!1,e.timestamp=null,e.event=null,e.loading=!1,e}return Object(l["a"])(a,[{key:"fullscreenModal",get:function(){return this.$vuetify.breakpoint.smAndDown}},{key:"categories",get:function(){return L.getters.categories}},{key:"scopes",get:function(){return L.getters.scopes}},{key:"profiles",get:function(){return L.state.profiles}},{key:"open",value:function(e){e&&(e.start?this.event=e:this.timestamp=e),this.model=!0}},{key:"close",value:function(){this.model=!1,this.timestamp=void 0}},{key:"onEventSave",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.prev=3,e.next=6,L.actions.addEvent(t);case 6:this.model=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),console.error(e.t0);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,9,12,15]])})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(f["e"]);ut=Object(d["a"])([Object(f["a"])({components:{NewEvent:lt}})],ut);var vt=ut,dt=vt,ft=Object(J["a"])(dt,Le,qe,!1,null,"32fd1d03",null),pt=ft.exports;K()(ft,{VDialog:Ee["a"]});var mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{fullscreen:e.fullscreenModal,"max-width":"700px"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e.model&&e.event?a("EditEvent",{attrs:{event:e.event,loading:e.loading,categories:e.categories,scopes:e.scopes,profiles:e.profiles},on:{close:e.close,save:e.onEventUpdate}}):e._e()],1)},ht=[],bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v("Edit event")]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:e.formModel,callback:function(t){e.formModel=t},expression:"formModel"}},[a("v-row",[a("v-col",[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:""},on:{blur:function(t){e.startDate=e.parseDate(e.startDateFormatted)}},model:{value:e.startDateFormatted,callback:function(t){e.startDateFormatted=t},expression:"startDateFormatted"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.menu=!1}},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.startDate)}}},[e._v("OK")])],1)],1)],1),a("v-col",[a("v-switch",{attrs:{label:"All day visit"},model:{value:e.allDay,callback:function(t){e.allDay=t},expression:"allDay"}})],1)],1),e.allDay?e._e():a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:e.visitTimeItems,"prepend-icon":"mdi-clock-time-two-outline",label:"Start time"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),a("v-col",[a("v-autocomplete",{attrs:{items:e.visitTimeItems,rules:[function(t){return t>e.startTime||"End time should be greater than Start time"}],"prepend-icon":"mdi-clock-time-five-outline",label:"End time"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1)],1),a("v-row",[a("v-col",[a("v-combobox",{attrs:{rules:e.validation.category,items:e.categories,"prepend-icon":"mdi-tune-variant",label:"Category"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),a("v-col",[a("v-combobox",{attrs:{items:e.scopes,"prepend-icon":"mdi-tune",label:"Scope"},model:{value:e.scope,callback:function(t){e.scope=t},expression:"scope"}})],1)],1),a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{items:e.profiles,"item-text":"Title","return-object":"","prepend-icon":"mdi-account",label:"Profile"},model:{value:e.profile,callback:function(t){e.profile=t},expression:"profile"}})],1)],1),a("v-row",[a("v-col",[a("v-textarea",{attrs:{label:"Comment",counter:"",rows:"3","auto-grow":"","prepend-icon":"mdi-message-reply-text-outline"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:e.closeDialog}},[e._v("Close")]),a("v-btn",{attrs:{color:"primary",disabled:!e.formModel,loading:e.loading},on:{click:e.save}},[e._v("Submit")])],1)],1)},yt=[],gt=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.formModel=!1,e.menu=!1,e.startDate=e.getDateString(e.event.start),e.startDateFormatted=e.formatDate(e.startDate),e.startTime=e.getTimeString(e.event.start),e.endTime=e.getTimeString(e.event.end||""),e.allDay=e.event.allDay,e.category=e.event.type||"",e.scope=e.event.scope||"",e.comment=e.event.comment||"",e.profile=L.getters.userProfileByTitle(e.event.category),e.validation={category:[Ke("Category")]},e}return Object(l["a"])(a,[{key:"startDateUpdate",value:function(){this.startDateFormatted=this.formatDate(this.startDate)}},{key:"form",get:function(){return this.$refs.form}},{key:"visitTimeItems",get:function(){var e="7:00",t="20:00",a=15;return Ye(e,t,a)}},{key:"formatDate",value:function(e){if(!e)return"";var t=e.split("-"),a=Object(E["a"])(t,3),n=a[0],r=a[1],o=a[2];return"".concat(o,"/").concat(r,"/").concat(n)}},{key:"parseDate",value:function(e){if(!e)return"";var t=e.split("/"),a=Object(E["a"])(t,3),n=a[0],r=a[1],o=a[2];return"".concat(o,"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))}},{key:"getDateString",value:function(e){return e.substr(0,10)}},{key:"getTimeString",value:function(e){return e.substr(11,5)}},{key:"makeDateTime",value:function(e,t){return"".concat(e," ").concat(t)}},{key:"closeDialog",value:function(){}},{key:"save",value:function(){var e;if(!this.form.validate())return null;var t=this.allDay?"00:00":this.startTime,a=this.allDay?"23:59":this.endTime;return{Id:this.event.id,Start:this.makeDateTime(this.startDate,t),End:this.makeDateTime(this.startDate,a),AllDay:this.allDay,Category:this.category,Scope:this.scope,Comment:this.comment,ProfileId:null===(e=this.profile)||void 0===e?void 0:e.Id}}}]),a}(f["e"]);Object(d["a"])([Object(f["c"])({required:!1,type:Object})],gt.prototype,"event",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],gt.prototype,"categories",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],gt.prototype,"scopes",void 0),Object(d["a"])([Object(f["c"])({required:!1,type:Array})],gt.prototype,"profiles",void 0),Object(d["a"])([Object(f["c"])({type:Boolean})],gt.prototype,"loading",void 0),Object(d["a"])([Object(f["c"])({type:Boolean})],gt.prototype,"isAdmin",void 0),Object(d["a"])([Object(f["f"])("startDate")],gt.prototype,"startDateUpdate",null),Object(d["a"])([Object(f["b"])("close")],gt.prototype,"closeDialog",null),Object(d["a"])([Object(f["b"])()],gt.prototype,"save",null),gt=Object(d["a"])([f["a"]],gt);var kt=gt,Ot=kt,jt=Object(J["a"])(Ot,bt,yt,!1,null,"c592cd54",null),wt=jt.exports;K()(jt,{VAutocomplete:Ze["a"],VBtn:Q["a"],VCard:xe["a"],VCardActions:Ce["a"],VCardText:Ce["c"],VCardTitle:Ce["d"],VCol:et["a"],VCombobox:tt["a"],VContainer:at["a"],VDatePicker:nt["a"],VForm:rt["a"],VMenu:re["a"],VRow:ot["a"],VSpacer:ve["a"],VSwitch:it["a"],VTextField:Ve["a"],VTextarea:ct["a"]});var Dt=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.model=!1,e.event=null,e.loading=!1,e}return Object(l["a"])(a,[{key:"fullscreenModal",get:function(){return this.$vuetify.breakpoint.smAndDown}},{key:"categories",get:function(){return L.getters.categories}},{key:"scopes",get:function(){return L.getters.scopes}},{key:"profiles",get:function(){return L.state.profiles}},{key:"open",value:function(e){this.event=Object($["a"])({},e),this.model=!0}},{key:"close",value:function(){this.model=!1,this.event=null}},{key:"onEventUpdate",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,e.prev=3,e.next=6,L.actions.updateEvent(t);case 6:this.model=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](3),console.error(e.t0);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,9,12,15]])})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(f["e"]);Dt=Object(d["a"])([Object(f["a"])({components:{EditEvent:wt}})],Dt);var xt=Dt,Ct=xt,_t=Object(J["a"])(Ct,mt,ht,!1,null,"326478ac",null),Et=_t.exports;K()(_t,{VDialog:Ee["a"]});var Tt=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"mounted",value:function(){this.$dialogs.profileDialog=this.$refs.profileDialog,this.$dialogs.confirm=this.$refs.confirmDialog,this.$dialogs.newEventDialog=this.$refs.newEventDialog,this.$dialogs.editEventDialog=this.$refs.editEventDialog}}]),a}(f["e"]);Tt=Object(d["a"])([Object(f["a"])({components:{AddProfileDialog:Ie,ConfirmDialog:Ne,NewEventDialog:pt,EditEventDialog:Et}})],Tt);var Vt=Tt,St=Vt,It=Object(J["a"])(St,pe,me,!1,null,"a989bb1e",null),Pt=It.exports,At=n["default"].extend({name:"App",components:{Dialogs:Pt,Navigation:fe},data:function(){return{}}}),$t=At,Rt=(a("034f"),a("7496")),Mt=a("f6c4"),Ft=Object(J["a"])($t,r,o,!1,null,null,null),Bt=Ft.exports;K()(Ft,{VApp:Rt["a"],VMain:Mt["a"]});var Ut=a("8c4f"),Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home",class:{container:this.$vuetify.breakpoint.lgAndUp}},[a("Calendar")],1)},Lt=[],qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex flex-column"},[a("CalendarRibbon",{staticClass:"mb-2",attrs:{date:e.calendarTitle},on:{"to-today":e.toToday,"next-timestamp":e.nextTimestamp,"prev-timestamp":e.prevTimestamp,"open-dialog":function(t){return e.openNewEventDialog()}},model:{value:e.view,callback:function(t){e.view=t},expression:"view"}}),a("v-calendar",{ref:"calendar",style:{"user-select":[this.dragEvent?"none":""]},attrs:{type:e.view,categories:e.userProfileCategories,"category-text":"Title","category-show-all":"","first-time":"7:00","interval-count":14,weekdays:e.weekdays,events:e.events,"event-color":e.getEventColor,locale:"en-US"},on:{"click:interval":e.openNewEventDialog,"click:event":e.showEvent,"click:date":e.setViewDay,"mousedown:event":e.mouseDownExistEvent,"mousedown:time":e.createDraftEvent,"mousemove:time":e.updateDraftEvent,"mouseup:time":e.endDraftEvent,"mousedown:time-category":e.createDraftEvent,"mousemove:time-category":e.updateDraftEvent,"mouseup:time-category":e.endDraftEvent},nativeOn:{mouseleave:function(t){return e.cancelDrag(t)}},scopedSlots:e._u([{key:"day-body",fn:function(t){var n=t.date,r=t.week;return[a("div",{staticClass:"v-current-time",class:{first:n===r[0].date},style:{top:e.nowY}})]}}]),model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}}),a("v-menu",{attrs:{activator:e.selectedElement,"close-on-content-click":!1,"max-width":"500px","offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[e.selectedEvent?[a("VisitEventMenuPreview",{attrs:{visit:e.selectedEvent},on:{close:e.closeSelectedEventMenu}})]:e._e()],2)],1)},Ht=[],Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"calendar-ribbon"},[a("v-sheet",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:""}},[a("v-tooltip",{attrs:{bottom:"","open-delay":"900"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mr-2",attrs:{outlined:"",large:"",color:"grey darken-2"},on:{click:e.openDialog}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-calendar-plus")]),a("span",{staticClass:"hidden-sm-and-down ms-1"},[e._v("Add event")])],1)]}}])},[a("span",[e._v("Add office visit")])]),a("v-tooltip",{attrs:{bottom:"","open-delay":"900"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",large:"",color:"grey darken-2"},on:{click:e.toToday}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-calendar-cursor")]),a("span",{staticClass:"hidden-md-and-down ms-1"},[e._v("Show today")])],1)]}}])},[a("span",[e._v("Move to today date")])]),a("v-spacer"),e.$vuetify.breakpoint.smAndDown?a("CalendarViewSwitcher",{model:{value:e.view,callback:function(t){e.view=t},expression:"view"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:""}},[a("v-card",{staticClass:"d-flex align-center justify-space-between mx-2 text-truncate",attrs:{outlined:""}},[a("v-btn",{staticClass:"px-0",attrs:{text:"",large:"",color:"grey darken-2","min-width":"40"},on:{click:e.prevTimestamp}},[a("v-icon",[e._v("mdi-chevron-left")])],1),e.date?a("v-toolbar-title",{staticClass:"mx-4"},[e._v(" "+e._s(e.date)+" ")]):e._e(),a("v-btn",{staticClass:"px-0",attrs:{text:"",large:"",color:"grey darken-2","min-width":"40"},on:{click:e.nextTimestamp}},[a("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1),e.$vuetify.breakpoint.mdAndUp?a("v-col",[a("CalendarViewSwitcher",{staticClass:"d-flex justify-end",model:{value:e.view,callback:function(t){e.view=t},expression:"view"}})],1):e._e()],1)],1)],1)},zt=[],Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn-toggle",{staticClass:"calendar-view-switcher",attrs:{borderless:"",mandatory:""},on:{change:e.storeCalendarType},model:{value:e.view,callback:function(t){e.view=t},expression:"view"}},[a("v-btn",{attrs:{value:"day",text:"",color:"grey darken-2"}},[a("span",{staticClass:"hidden-md-and-down me-1"},[e._v("Day")]),a("v-icon",[e._v("mdi-calendar-today")])],1),a("v-btn",{attrs:{value:"week",text:"",color:"grey darken-2"}},[a("span",{staticClass:"hidden-md-and-down me-1"},[e._v("Week")]),a("v-icon",[e._v("mdi-calendar-range")])],1),a("v-btn",{attrs:{value:"month",text:"",color:"grey darken-2"}},[a("span",{staticClass:"hidden-md-and-down me-1"},[e._v("Month")]),a("v-icon",[e._v("mdi-calendar-month")])],1),a("v-btn",{attrs:{value:"category",text:"",color:"grey darken-2"}},[a("span",{staticClass:"hidden-md-and-down me-1"},[e._v("Profiles")]),a("v-icon",[e._v("mdi-select-compare")])],1)],1)},Yt=[],Kt=O,Gt=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"created",value:function(){this.restoreCalendarType()}},{key:"storeCalendarType",value:function(e){localStorage.setItem(Kt,e)}},{key:"restoreCalendarType",value:function(){this.view=localStorage.getItem(Kt)||"day"}}]),a}(f["e"]);Object(d["a"])([Object(f["d"])()],Gt.prototype,"view",void 0),Gt=Object(d["a"])([f["a"]],Gt);var Qt=Gt,Xt=Qt,Zt=a("a609"),ea=Object(J["a"])(Xt,Jt,Yt,!1,null,"530f195a",null),ta=ea.exports;K()(ea,{VBtn:Q["a"],VBtnToggle:Zt["a"],VIcon:X["a"]});var aa=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"nextTimestamp",value:function(){}},{key:"prevTimestamp",value:function(){}},{key:"toToday",value:function(){}},{key:"openDialog",value:function(){}}]),a}(f["e"]);Object(d["a"])([Object(f["d"])()],aa.prototype,"view",void 0),Object(d["a"])([Object(f["c"])()],aa.prototype,"date",void 0),Object(d["a"])([Object(f["b"])()],aa.prototype,"nextTimestamp",null),Object(d["a"])([Object(f["b"])()],aa.prototype,"prevTimestamp",null),Object(d["a"])([Object(f["b"])()],aa.prototype,"toToday",null),Object(d["a"])([Object(f["b"])()],aa.prototype,"openDialog",null),aa=Object(d["a"])([Object(f["a"])({components:{CalendarViewSwitcher:ta}})],aa);var na=aa,ra=na,oa=a("3a2f"),ia=Object(J["a"])(ra,Wt,zt,!1,null,"2fda2990",null),ca=ia.exports;K()(ia,{VBtn:Q["a"],VCard:xe["a"],VCol:et["a"],VIcon:X["a"],VRow:ot["a"],VSheet:Te["a"],VSpacer:ve["a"],VToolbarTitle:Be["a"],VTooltip:oa["a"]});var sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{"min-width":"350px",flat:""}},[a("v-toolbar",{class:e.getTextColorClass,attrs:{color:e.getEventColor(e.visit)}},[a("v-toolbar-title",{staticClass:"ml-3",domProps:{textContent:e._s(e.visit.name)}}),a("v-spacer"),a("v-btn",{attrs:{dark:e.isBackgroundWhite,icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-window-close")])],1)],1),a("v-card-text",[a("div",{staticClass:"mb-2"},[a("h3",[e._v("Comment")]),a("div",{staticClass:"subtitle-1"},[e._v(" "+e._s(e.getComment)+" ")])])]),a("v-card-actions",[a("v-btn",{attrs:{elevation:"0",color:"error"},on:{click:function(t){return e.deleteVisitEvent(e.visit)}}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-delete")]),e._v(" Delete ")],1),a("v-btn",{attrs:{elevation:"0",color:"primary"},on:{click:function(t){return e.openEditDialog(e.visit)}}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-pencil")]),e._v(" Edit ")],1)],1)],1)},la=[];function ua(e){if(!e)return"#111";for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var n="#",r=0;r<3;r++){var o=t>>8*r&255;n+=("00"+o.toString(16)).substr(-2)}return n}var va=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"getComment",get:function(){return this.visit.comment||"The event comment was not provided"}},{key:"getEventColor",value:function(e){return e?ua(e.type):"#222"}},{key:"getTextColorClass",get:function(){var e=Oe(this.getEventColor(this.visit))?"white":"black";return"".concat(e,"--text")}},{key:"isBackgroundWhite",get:function(){return Oe(this.getEventColor(this.visit))}},{key:"openEditDialog",value:function(e){this.$dialogs.editEventDialog.open(e)}},{key:"deleteVisitEvent",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.id){e.next=8;break}return e.next=3,this.$dialogs.confirm.open("Delete","Are you sure you want to delete this visit?",{color:"error"});case 3:if(a=e.sent,!a){e.next=8;break}return e.next=7,L.actions.deleteEvent(t);case 7:this.close();case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){}}]),a}(f["e"]);Object(d["a"])([Object(f["c"])({type:Object,required:!0})],va.prototype,"visit",void 0),Object(d["a"])([Object(f["b"])()],va.prototype,"close",null),va=Object(d["a"])([f["a"]],va);var da=va,fa=da,pa=Object(J["a"])(fa,sa,la,!1,null,"ad54c502",null),ma=pa.exports;function ha(e,t){var a={down:!1,roundTo:60},n=Object($["a"])(Object($["a"])({},a),t),r=n.down,o=n.roundTo,i=60*o*1e3;return r?e-e%i:e+(i-e%i)}function ba(e){return new Date(e.year,e.month-1,e.day,e.hour,e.minute).getTime()}K()(pa,{VBtn:Q["a"],VCard:xe["a"],VCardActions:Ce["a"],VCardText:Ce["c"],VIcon:X["a"],VSpacer:ve["a"],VToolbar:Fe["a"],VToolbarTitle:Be["a"]});var ya=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.view="day",e.currentDate="",e.calendarReady=!1,e.weekdays=[1,2,3,4,5,6,0],e.roundMinutes=15,e.selectedEvent=null,e.selectedElement=null,e.dragEvent=!1,e.draftEvent=null,e.selectedOpen=!1,e}return Object(l["a"])(a,[{key:"calendarInstance",get:function(){return this.$refs.calendar}},{key:"calendarTitle",get:function(){if(!this.calendarReady)return"";var e=this.calendarInstance.title;if("day"===this.view){var t=this.currentDate?Number(this.currentDate.split("-").pop()):(new Date).getDate();return"".concat(t," ").concat(e)}if("week"===this.view){var a=this.calendarInstance.lastStart,n=this.calendarInstance.lastEnd,r=a.day,o=n.day,i=new Date(a.date).toLocaleString("en-US",{month:"short"}),c=new Date(n.date).toLocaleString("en-US",{month:"short"});return"".concat(r," ").concat(i===c?"":i," ").concat(a.year===n.year?"":a.year," - ").concat(o," ").concat(c," ").concat(n.year)}return e}},{key:"nowY",get:function(){return this.calendarReady?this.calendarInstance.timeToY(this.calendarInstance.times.now)+"px":"-10px"}},{key:"events",get:function(){var e=L.getters.events;return"month"===this.view?e:this.dragEvent?[].concat(Object(h["a"])(e),[this.draftEvent]):e}},{key:"userProfileCategories",get:function(){return L.state.profiles.slice()}},{key:"mounted",value:function(){this.calendarInstance.checkChange(),this.calendarReady=!0}},{key:"toToday",value:function(){this.currentDate=""}},{key:"setViewDay",value:function(e){var t=e.date;this.currentDate=t,this.view="day"}},{key:"nextTimestamp",value:function(){this.calendarInstance.next()}},{key:"prevTimestamp",value:function(){this.calendarInstance.prev()}},{key:"getEventColor",value:function(e){return ua(e.type)}},{key:"showEvent",value:function(e){var t=this,a=e.nativeEvent,n=e.event,r=function(){t.selectedEvent=n,t.selectedElement=a.target,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r()}},{key:"mouseDownExistEvent",value:function(e){var t=e.nativeEvent;t.stopPropagation()}},{key:"createDraftEvent",value:function(e){if(!this.dragEvent&&null===this.draftEvent){var t=ba(e),a=new Date(ha(t,{roundTo:this.roundMinutes})),n=e.category?e.category:L.getters.userProfile;this.dragEvent=!0,this.draftEvent={name:"#Draft event",start:V(a),category:n.Title},this.updateDraftEvent(e)}}},{key:"updateDraftEvent",value:function(e){if(this.dragEvent&&null!==this.draftEvent){var t=ba(e),a=new Date(ha(t,{roundTo:this.roundMinutes})),n=new Date(this.draftEvent.start);n.setHours(a.getHours()),n.setMinutes(a.getMinutes()),this.draftEvent=Object($["a"])(Object($["a"])({},this.draftEvent),{},{end:V(n)})}}},{key:"endDraftEvent",value:function(){this.dragEvent=!1,this.draftEvent&&(this.openNewEventDialog(this.draftEvent),this.draftEvent=null)}},{key:"cancelDrag",value:function(){this.dragEvent=!1,this.draftEvent=null}},{key:"openNewEventDialog",value:function(e){this.$dialogs.newEventDialog.open(e)}},{key:"closeSelectedEventMenu",value:function(){this.selectedOpen=!1}}]),a}(f["e"]);ya=Object(d["a"])([Object(f["a"])({components:{CalendarRibbon:ca,VisitEventMenuPreview:ma}})],ya);var ga=ya,ka=ga,Oa=a("a4f6"),ja=Object(J["a"])(ka,qt,Ht,!1,null,"8468f558",null),wa=ja.exports;K()(ja,{VCalendar:Oa["a"],VMenu:re["a"]});var Da=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(f["e"]);Da=Object(d["a"])([Object(f["a"])({components:{Calendar:wa}})],Da);var xa=Da,Ca=xa,_a=(a("cccb"),Object(J["a"])(Ca,Nt,Lt,!1,null,null,null)),Ea=_a.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("SettingsSessionManagement"),a("SettingsDataManagement",{staticClass:"mt-4"})],1)},Va=[],Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"settings-session-management py-4 px-6",attrs:{elevation:"1"}},[a("v-form",[a("h2",[e._v("Session management")]),a("br"),a("div",{staticClass:"text--secondary"},[e._v("Export your current session")]),a("v-btn",{staticClass:"mt-2",attrs:{color:"primary"},on:{click:e.exportData}},[e._v("Export")]),a("div",{staticClass:"text--secondary mt-8"},[e._v("Import your session from file")]),a("v-file-input",{attrs:{clearable:"",placeholder:"Select file",accept:"application/json"},on:{change:e.importData}}),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"error",dense:"",flat:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Data merge request")])],1),a("v-card-text",{staticClass:"pa-4"},[e._v(" Do you what to merge you data with current session or overwrite it? ")]),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary darken-1"},on:{click:e.overwriteData}},[e._v("Overwrite")]),a("v-btn",{attrs:{color:"primary"},on:{click:e.mergeData}},[e._v("Merge")]),a("v-btn",{attrs:{color:"grey",text:""},on:{click:e.cancelImport}},[e._v("Cancel")])],1)],1)],1)],1)],1)},Ia=[],Pa=a("21a6"),Aa=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.dialog=!1,e.importData_=null,e}return Object(l["a"])(a,[{key:"exportData",value:function(){var e=JSON.stringify(L.state),t=new Blob([e],{type:"application/json;charset=utf-8"}),a="xshed export ".concat((new Date).toLocaleString(),".json");Object(Pa["saveAs"])(t,a)}},{key:"importData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.parseFile(t);case 3:a=e.sent,this.importData_=JSON.parse(a),this.dialog=!0;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseFile",value:function(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(e){var a;t((null===(a=e.target)||void 0===a?void 0:a.result)||"")},n.onerror=function(e){a(e)},n.readAsText(e,"UTF-8")}))}},{key:"overwriteData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.actions.importDataWithOverwrite(this.importData_);case 2:this.dialog=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mergeData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,L.actions.importData(this.importData_);case 2:this.dialog=!1;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelImport",value:function(){this.importData_=null,this.dialog=!1}}]),a}(f["e"]);Aa=Object(d["a"])([f["a"]],Aa);var $a=Aa,Ra=$a,Ma=(a("0a24"),a("23a7")),Fa=Object(J["a"])(Ra,Sa,Ia,!1,null,null,null),Ba=Fa.exports;K()(Fa,{VBtn:Q["a"],VCard:xe["a"],VCardActions:Ce["a"],VCardText:Ce["c"],VDialog:Ee["a"],VFileInput:Ma["a"],VForm:rt["a"],VSheet:Te["a"],VSpacer:ve["a"],VToolbar:Fe["a"],VToolbarTitle:Be["a"]});var Ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"settings-data-management py-4 px-6",attrs:{elevation:"1"}},[a("v-form",[a("h2",[e._v("Data management")]),a("br"),a("div",[e._v(" All you data (events, profiles, etc.) is stored locally in browser's localStorage. "),a("br"),e._v(" Data security is being provided and managed by the browser. "),a("br"),a("a",{ref:"https://developer.mozilla.org/docs/Web/API/Window/localStorage"},[e._v("Learn more")])]),a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text--secondary"},[e._v("You can remove all your data here")]),a("v-btn",{staticClass:"mt-2",attrs:{color:"error"},on:{click:e.deleteData}},[e._v("Delete all data")])],1)])],1)},Na=[],La=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(l["a"])(a,[{key:"deleteData",value:function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="All your data will be permanently deleted",e.next=3,this.$dialogs.confirm.open("Delete data",t,{color:"error"});case 3:if(a=e.sent,!a){e.next=10;break}return e.next=7,L.actions.cleanUpData();case 7:return e.next=9,this.$router.push({name:"Home"});case 9:window.location.reload();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(f["e"]);La=Object(d["a"])([f["a"]],La);var qa=La,Ha=qa,Wa=(a("994f"),Object(J["a"])(Ha,Ua,Na,!1,null,null,null)),za=Wa.exports;K()(Wa,{VBtn:Q["a"],VForm:rt["a"],VSheet:Te["a"]});var Ja=function(e){Object(u["a"])(a,e);var t=Object(v["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(f["e"]);Ja=Object(d["a"])([Object(f["a"])({components:{SettingsDataManagement:za,SettingsSessionManagement:Ba}})],Ja);var Ya=Ja,Ka=Ya,Ga=Object(J["a"])(Ka,Ta,Va,!1,null,"657a4788",null),Qa=Ga.exports;K()(Ga,{VContainer:at["a"]}),n["default"].use(Ut["a"]);var Xa=[{path:"/",name:"Home",component:Ea},{path:"/settings",name:"Settings",component:Qa},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Za=new Ut["a"]({mode:"history",base:"/xshed/",routes:Xa}),en=Za,tn=a("f309");n["default"].use(tn["a"]);var an=new tn["a"]({});n["default"].prototype.$dialogs={},n["default"].config.productionTip=!1,new n["default"]({router:en,store:q,vuetify:an,render:function(e){return e(Bt)}}).$mount("#app")},f572:function(e,t,a){"use strict";a("8153")},fdfd:function(e,t,a){"use strict";a("08d3")}});
//# sourceMappingURL=app.4997364a.js.map