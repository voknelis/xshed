var t=Object.defineProperty,e=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(e,s,r)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,i=(t,e)=>{for(var s in e||(e={}))a.call(e,s)&&o(t,s,e[s]);if(r)for(var s of r(e))n.call(e,s)&&o(t,s,e[s]);return t},l=(t,r)=>e(t,s(r));import{c,G as d,M as u,V as p,A as m,a as v,i as f,b as h,f as g,d as y,C as D,_ as w,e as x,g as _,h as b,j as E,k,l as C,m as T,n as P,W as S,o as O,p as $,q as I,r as j,s as A,P as M,E as F,t as N,u as U,v as B,w as H,x as L,y as R,z as q,B as V,D as W,F as z,H as Y,I as J,J as K,K as X,L as G,N as Q,O as Z,Q as tt,R as et,S as st,T as rt,U as at,X as nt,Y as ot,Z as it,$ as lt,a0 as ct,a1 as dt}from"./vendor.6f3a0895.js";var ut=[c(),t=>{t.subscribe(((t,e)=>{window.localStorage.setItem("xshed.storage",JSON.stringify(e))}))}];function pt(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}const mt=JSON.parse(window.localStorage.getItem("xshed.storage")||"{}"),vt={Id:pt(),Title:"Default",Color:"#1867c0"};function ft(t,e){const s=null!=t?t:new Date,r=6e4*(e||s.getTimezoneOffset());return new Date(s.getTime()-r).toISOString().slice(0,-1)}function ht(t){const e=ft(t),[s,r]=e.split(".")[0].replace("T"," ").split(" ");return[s,r.slice(0,5)].join(" ")}function gt(t){return ft(t).slice(0,10)}const yt=t=>{const e=t.AllDay?gt(new Date(t.Start)):ht(new Date(t.Start)),s=t.AllDay?gt(new Date(t.End)):ht(new Date(t.End)),r=xt.getters.userProfileById(t.ProfileId);return{id:t.Id,name:t.Scope?`${t.Category}:${t.Scope}`:t.Category,start:e,end:s,allDay:!!t.AllDay,type:t.Category,scope:t.Scope,comment:t.Comment,category:r.Title}};const Dt=new v({state:class{constructor(){this.events=mt.events||[],this.defaultProfile=mt.defaultProfile||vt,this.profiles=mt.profiles||[vt],this.selectedProfileId=mt.selectedProfileId||vt.Id}},getters:class extends d{get profileEvents(){return this.state.events.filter((t=>t.ProfileId===this.state.selectedProfileId)).map(yt)}get events(){return this.state.events.map(yt)}get categories(){return[...this.state.events.reduce(((t,e)=>t.add(e.Category)),new Set).values()].filter(Boolean)}get scopes(){return[...this.state.events.reduce(((t,e)=>t.add(e.Scope||"")),new Set).values()].filter(Boolean)}get userProfile(){const t=this.state.selectedProfileId;return this.getters.userProfileById(t)}get userProfileById(){return t=>this.state.profiles.find((e=>e.Id===t))||this.state.defaultProfile}get userProfileByTitle(){return t=>this.state.profiles.find((e=>e.Title===t))||this.state.defaultProfile}},mutations:class extends u{setEvent(t){const e=this.state.events,s=e.findIndex((e=>e.Id===t.Id));-1!==s?p.set(e,s,t):e.push(t)}removeEvent(t){const e=this.state.events,s=e.findIndex((e=>e.Id===t));-1!==s&&e.splice(s,1)}setProfile(t){this.state.profiles.push(t)}setSelectedProfile(t){this.state.selectedProfileId=t}resetState(){this.state.profiles=[],this.state.events=[],this.state.selectedProfileId=""}commitState(){}},actions:class extends m{async addEvent(t){const e=t.ProfileId||this.getters.userProfile.Id,s=l(i({},t),{ProfileId:e});this.commit("setEvent",s)}async updateEvent(t){this.commit("setEvent",t)}async updatePartialEvent(t){const e=this.state.events.findIndex((e=>e.Id===t.Id));if(e>=0){const s=this.state.events[e],r=i(i({},s),t);this.commit("setEvent",r)}}async deleteEvent(t){this.commit("removeEvent",t.id)}async addProfile(t){const e={Id:pt(),Title:t.Title,Color:t.Color};this.commit("setProfile",e)}async cleanUpData(){this.commit("resetState"),localStorage.clear()}async importDataWithOverwrite(t){this.state.events=t.events||[],this.state.profiles=t.profiles||[],this.state.defaultProfile=t.defaultProfile,this.state.selectedProfileId=t.selectedProfileId||t.defaultProfile.Id,this.commit("commitState")}async importData(t){this.state.events=[...this.state.events,...t.events||[]],this.state.profiles=[...this.state.profiles,...t.profiles||[]],this.commit("commitState")}},modules:{}});p.use(f);const wt=h(Dt,{plugins:ut}),xt=Dt.context(wt);var _t=new f.Store({state:{},mutations:{},actions:{},modules:{}});const bt=g("#FFFFFF").rgba;function Et(t){return y(g(t).rgba,bt)>2}var kt=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor;let Tt=class extends p{constructor(){super(...arguments),this.dialog=!1,this.profile=this.getDefaultProfile()}get isBackgroundWhite(){return Et(this.profile.Color)}get titleTextColor(){return`${Et(this.profile.Color)?"white":"black"}--text`}open(){this.dialog=!0,this.profile=this.getDefaultProfile()}getDefaultProfile(){return{Title:"",Color:"#1976d2"}}async save(){await xt.actions.addProfile(this.profile),this.close()}close(){this.dialog=!1}};Tt=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Ct(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&kt(e,s,n),n})([D],Tt);function Pt(t,e,s,r,a,n,o,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),r&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):a&&(l=i?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}const St={};var Ot=Pt(Tt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(w,{attrs:{"content-class":"add-profile-dialog",fullscreen:t.$vuetify.breakpoint.smAndDown,"max-width":"700px"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.close.apply(null,arguments)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s(x,{staticClass:"pb-4"},[s(x,{attrs:{dark:t.isBackgroundWhite}},[s("div",{staticClass:"dialog-title",style:{backgroundColor:t.profile.Color}},[s("div",{staticClass:"text-center text-h5",class:[t.titleTextColor]},[t._v("Customize your profiles")]),s(_,{staticClass:"default-avatar",attrs:{size:"80",color:t.profile.Color}},[s(b,{class:[t.titleTextColor],attrs:{large:""}},[t._v("mdi-account")])],1)],1)]),s("div",{staticClass:"d-flex flex-column mt-16 mx-4"},[s(E,{attrs:{filled:"",autofocus:"",placeholder:"Add a name or a label like Work or Personal"},model:{value:t.profile.Title,callback:function(e){t.$set(t.profile,"Title",e)},expression:"profile.Title"}}),s(k,{staticClass:"mx-auto",attrs:{elevation:"0",outlined:""}},[s(C,{staticClass:"pb-0"},[t._v("Pick a theme color")]),s(T,{staticClass:"color-picker",attrs:{mode:"hexa","hide-canvas":"","hide-inputs":"","hide-sliders":"","show-swatches":"","swatches-max-height":"300px"},model:{value:t.profile.Color,callback:function(e){t.$set(t.profile,"Color",e)},expression:"profile.Color"}})],1),s("div",{staticClass:"d-flex justify-end mt-4"},[s(P,{attrs:{color:"primary",disabled:!t.profile.Title},on:{click:t.save}},[t._v("Done")])],1)],1)],1)],1)}),[],!1,(function(t){for(let e in St)this[e]=St[e]}),"76f85f9b",null,null);Ot.options.__file="src/partials/dialogs/AddProfileDialog.vue";var $t=Ot.exports,It=Object.defineProperty,jt=Object.getOwnPropertyDescriptor,At=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?jt(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&It(e,s,n),n};let Mt=class extends p{constructor(){super(...arguments),this.dialog=!1,this.resolve=null,this.reject=null,this.message=null,this.title=null,this.options=this.getDefaultOptions()}onDialogChanged(t){t||(this.options=this.getDefaultOptions())}open(t,e,s){return this.dialog=!0,this.title=t,this.message=e,this.options=Object.assign(this.options,s),new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}confirm(){this.resolve&&this.resolve(!0),this.dialog=!1}cancel(){this.resolve&&this.resolve(!1),this.dialog=!1}getDefaultOptions(){return{color:"primary",width:290}}};At([S("dialog")],Mt.prototype,"onDialogChanged",1),Mt=At([D],Mt);const Ft={};var Nt=Pt(Mt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(w,{attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel.apply(null,arguments)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s(k,[s(O,{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[s($,{staticClass:"white--text"},[t._v(t._s(t.title))])],1),s(I,{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),s(j,{staticClass:"pt-0"},[s(A),s(P,{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(e){return t.confirm.apply(null,arguments)}}},[t._v("Yes")]),s(P,{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel.apply(null,arguments)}}},[t._v("Cancel")])],1)],1)],1)}),[],!1,(function(t){for(let e in Ft)this[e]=Ft[e]}),"6170eb90",null,null);Nt.options.__file="src/partials/dialogs/ConfirmDialog.vue";var Ut=Nt.exports;const Bt=t=>e=>!!e||`${t} field is mandatory`;function Ht(t,e){return new Date(t.getTime()+6e4*e)}function Lt(t){return new Intl.DateTimeFormat("en-US",{timeStyle:"short",hour12:!1}).format(t)}function Rt(t,e,s=15){let r=new Date;const[a,n]=t.split(":");r.setHours(Number(a),Number(n),0,0);const o=[];for(;Lt(r)<=e;)o.push(Lt(r)),r=Ht(r,s);return o}var qt=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,Wt=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?Vt(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&qt(e,s,n),n};let zt=class extends p{constructor(){super(...arguments),this.formModel=!1,this.menu=!1,this.startDate=this.getDateString(this.event.start),this.startDateFormatted=this.formatDate(this.startDate),this.startTime=this.getTimeString(this.event.start),this.endTime=this.getTimeString(this.event.end||""),this.allDay=this.event.allDay,this.category=this.event.type||"",this.scope=this.event.scope||"",this.comment=this.event.comment||"",this.profile=xt.getters.userProfileByTitle(this.event.category),this.validation={category:[Bt("Category")]}}startDateUpdate(){this.startDateFormatted=this.formatDate(this.startDate)}get form(){return this.$refs.form}get visitTimeItems(){return Rt("7:00","20:00",15)}formatDate(t){if(!t)return"";const[e,s,r]=t.split("-");return`${r}/${s}/${e}`}parseDate(t){if(!t)return"";const[e,s,r]=t.split("/");return`${r}-${s.padStart(2,"0")}-${e.padStart(2,"0")}`}getDateString(t){return t.substr(0,10)}getTimeString(t){return t.substr(11,5)}makeDateTime(t,e){return`${t} ${e}`}closeDialog(){}save(){var t;if(!this.form.validate())return null;const e=this.allDay?"00:00":this.startTime,s=this.allDay?"23:59":this.endTime;return{Id:this.event.id,Start:this.makeDateTime(this.startDate,e),End:this.makeDateTime(this.startDate,s),AllDay:this.allDay,Category:this.category,Scope:this.scope,Comment:this.comment,ProfileId:null==(t=this.profile)?void 0:t.Id}}};Wt([M({required:!1,type:Object})],zt.prototype,"event",2),Wt([M({required:!1,type:Array})],zt.prototype,"categories",2),Wt([M({required:!1,type:Array})],zt.prototype,"scopes",2),Wt([M({required:!1,type:Array})],zt.prototype,"profiles",2),Wt([M({type:Boolean})],zt.prototype,"loading",2),Wt([M({type:Boolean})],zt.prototype,"isAdmin",2),Wt([S("startDate")],zt.prototype,"startDateUpdate",1),Wt([F("close")],zt.prototype,"closeDialog",1),Wt([F()],zt.prototype,"save",1),zt=Wt([D],zt);const Yt={};var Jt=Pt(zt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(k,[s(N,[t._v("Edit event")]),s(I,[s(U,[s(B,{ref:"form",model:{value:t.formModel,callback:function(e){t.formModel=e},expression:"formModel"}},[s(H,[s(L,[s(R,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(E,t._g(t._b({attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:""},on:{blur:function(e){t.startDate=t.parseDate(t.startDateFormatted)}},model:{value:t.startDateFormatted,callback:function(e){t.startDateFormatted=e},expression:"startDateFormatted"}},"v-text-field",a,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s(q,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[s(A),s(P,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),s(P,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.startDate)}}},[t._v("OK")])],1)],1)],1),s(L,[s(V,{attrs:{label:"All day visit"},model:{value:t.allDay,callback:function(e){t.allDay=e},expression:"allDay"}})],1)],1),t.allDay?t._e():s(H,[s(L,[s(W,{attrs:{items:t.visitTimeItems,"prepend-icon":"mdi-clock-time-two-outline",label:"Start time"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),s(L,[s(W,{attrs:{items:t.visitTimeItems,rules:[function(e){return e>t.startTime||"End time should be greater than Start time"}],"prepend-icon":"mdi-clock-time-five-outline",label:"End time"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1),s(H,[s(L,[s(z,{attrs:{rules:t.validation.category,items:t.categories,"prepend-icon":"mdi-tune-variant",label:"Category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),s(L,[s(z,{attrs:{items:t.scopes,"prepend-icon":"mdi-tune",label:"Scope"},model:{value:t.scope,callback:function(e){t.scope=e},expression:"scope"}})],1)],1),s(H,[s(L,[s(W,{attrs:{items:t.profiles,"item-text":"Title","return-object":"","prepend-icon":"mdi-account",label:"Profile"},model:{value:t.profile,callback:function(e){t.profile=e},expression:"profile"}})],1)],1),s(H,[s(L,[s(Y,{attrs:{label:"Comment",counter:"",rows:"3","auto-grow":"","prepend-icon":"mdi-message-reply-text-outline"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1)],1),s(j,[s(A),s(P,{attrs:{color:"blue",text:""},on:{click:t.closeDialog}},[t._v("Close")]),s(P,{attrs:{color:"primary",disabled:!t.formModel,loading:t.loading},on:{click:t.save}},[t._v("Submit")])],1)],1)}),[],!1,(function(t){for(let e in Yt)this[e]=Yt[e]}),"52617704",null,null);Jt.options.__file="src/components/EditEvent.vue";var Kt=Jt.exports,Xt=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor;let Qt=class extends p{constructor(){super(...arguments),this.model=!1,this.event=null,this.loading=!1}get fullscreenModal(){return this.$vuetify.breakpoint.smAndDown}get categories(){return xt.getters.categories}get scopes(){return xt.getters.scopes}get profiles(){return xt.state.profiles}open(t){this.event=i({},t),this.model=!0}close(){this.model=!1,this.event=null}async onEventUpdate(t){if(t){this.loading=!0;try{await xt.actions.updateEvent(t),this.model=!1}catch(e){console.error(e)}finally{this.loading=!1}}}};Qt=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Gt(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Xt(e,s,n),n})([D({components:{EditEvent:Kt}})],Qt);const Zt={};var te=Pt(Qt,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(w,{attrs:{fullscreen:t.fullscreenModal,"max-width":"700px"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t.model&&t.event?s(Kt,{attrs:{event:t.event,loading:t.loading,categories:t.categories,scopes:t.scopes,profiles:t.profiles},on:{close:t.close,save:t.onEventUpdate}}):t._e()],1)}),[],!1,(function(t){for(let e in Zt)this[e]=Zt[e]}),"b0a0da16",null,null);te.options.__file="src/partials/dialogs/EditEventDialog.vue";var ee=te.exports,se=Object.defineProperty,re=Object.getOwnPropertyDescriptor,ae=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?re(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&se(e,s,n),n};let ne=class extends p{constructor(){super(...arguments),this.formModel=!1,this.menu=!1,this.startDate=this.getLocalISODate(),this.startDateFormatted=this.formatDate(this.getLocalISODate()),this.startTime="",this.endTime="",this.allDay=!1,this.profile=xt.getters.userProfile,this.category="",this.scope="",this.comment="",this.validation={category:[Bt("Category")]}}startDateUpdate(){this.startDateFormatted=this.formatDate(this.startDate)}get form(){return this.$refs.form}get visitTimeItems(){return Rt("7:00","20:00",15)}formatDate(t){if(!t)return"";const[e,s,r]=t.split("-");return`${r}/${s}/${e}`}parseDate(t){if(!t)return"";const[e,s,r]=t.split("/");return`${r}-${s.padStart(2,"0")}-${e.padStart(2,"0")}`}created(){const t=new Date,e=t=>t.toLocaleString("default",{minimumIntegerDigits:2});if(this.timestamp){this.startDate=this.timestamp.date,this.startTime=`${e(this.timestamp.hour)}:00`;const t=Ht(new Date(`${this.startDate} ${e(this.timestamp.hour)}:00`),15);return void(this.endTime=`${e(t.getHours())}:${e(t.getMinutes())}`)}if(this.event){const[t,e]=this.event.start.split(" ");this.startDate=t,this.startTime=e;const[s,r]=this.event.end.split(" ");return this.endTime=r,this.category=this.event.type,this.scope=this.event.scope,this.comment=this.event.comment,void(this.event.category&&(this.profile=xt.getters.userProfileByTitle(this.event.category)))}this.startDate=t.toISOString().substr(0,10),this.startTime=`${e(t.getHours())}:00`;const s=Ht(new Date(`${this.startDate} ${e(t.getHours())}:00`),15);this.endTime=`${e(s.getHours())}:${e(s.getMinutes())}`}makeDateTime(t,e){return`${t} ${e}`}closeDialog(){}save(){var t;if(!this.form.validate())return null;const e=this.allDay?"00:00":this.startTime,s=this.allDay?"23:59":this.endTime;return{Id:pt(),Start:this.makeDateTime(this.startDate,e),End:this.makeDateTime(this.startDate,s),AllDay:this.allDay,Category:this.category,Scope:this.scope,Comment:this.comment,ProfileId:null==(t=this.profile)?void 0:t.Id}}getLocalISODate(){return ft(new Date).substr(0,10)}};ae([M({required:!1,type:Object})],ne.prototype,"timestamp",2),ae([M({required:!1,type:Object})],ne.prototype,"event",2),ae([M({required:!1,type:Array})],ne.prototype,"categories",2),ae([M({required:!1,type:Array})],ne.prototype,"scopes",2),ae([M({required:!1,type:Array})],ne.prototype,"profiles",2),ae([M({type:Boolean})],ne.prototype,"loading",2),ae([M({type:Boolean})],ne.prototype,"isAdmin",2),ae([S("startDate")],ne.prototype,"startDateUpdate",1),ae([F("close")],ne.prototype,"closeDialog",1),ae([F()],ne.prototype,"save",1),ne=ae([D],ne);const oe={};var ie=Pt(ne,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(k,[s(N,[t._v("Create visit event")]),s(I,[s(U,[s(B,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.formModel,callback:function(e){t.formModel=e},expression:"formModel"}},[s(H,[s(L,[s(R,{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(E,t._g(t._b({attrs:{label:"Start date","prepend-icon":"mdi-calendar",readonly:""},on:{blur:function(e){t.startDate=t.parseDate(t.startDateFormatted)}},model:{value:t.startDateFormatted,callback:function(e){t.startDateFormatted=e},expression:"startDateFormatted"}},"v-text-field",a,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s(q,{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.menu=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[s(A),s(P,{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),s(P,{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.startDate)}}},[t._v("OK")])],1)],1)],1),s(L,[s(V,{attrs:{label:"All day visit"},model:{value:t.allDay,callback:function(e){t.allDay=e},expression:"allDay"}})],1)],1),t.allDay?t._e():s(H,[s(L,[s(W,{attrs:{items:t.visitTimeItems,"prepend-icon":"mdi-clock-time-two-outline",label:"Start time"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),s(L,[s(W,{attrs:{items:t.visitTimeItems,rules:[function(e){return e>t.startTime||"End time should be greater than Start time"}],"prepend-icon":"mdi-clock-time-five-outline",label:"End time"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1),s(H,[s(L,[s(z,{attrs:{rules:t.validation.category,items:t.categories,"prepend-icon":"mdi-tune-variant",label:"Category"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),s(L,[s(z,{attrs:{items:t.scopes,"prepend-icon":"mdi-tune",label:"Scope"},model:{value:t.scope,callback:function(e){t.scope=e},expression:"scope"}})],1)],1),s(H,[s(L,[s(W,{attrs:{items:t.profiles,"item-text":"Title","return-object":"","prepend-icon":"mdi-account",label:"Profile"},model:{value:t.profile,callback:function(e){t.profile=e},expression:"profile"}})],1)],1),s(H,[s(L,[s(Y,{attrs:{label:"Comment",counter:"",rows:"3","auto-grow":"","prepend-icon":"mdi-message-reply-text-outline"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1)],1),s(j,[s(A),s(P,{attrs:{color:"blue",text:""},on:{click:t.closeDialog}},[t._v("Close")]),s(P,{attrs:{color:"primary",disabled:!t.formModel,loading:t.loading},on:{click:t.save}},[t._v("Create")])],1)],1)}),[],!1,(function(t){for(let e in oe)this[e]=oe[e]}),"0458a7ad",null,null);ie.options.__file="src/components/NewEvent.vue";var le=ie.exports,ce=Object.defineProperty,de=Object.getOwnPropertyDescriptor;let ue=class extends p{constructor(){super(...arguments),this.model=!1,this.timestamp=null,this.event=null,this.loading=!1}get fullscreenModal(){return this.$vuetify.breakpoint.smAndDown}get categories(){return xt.getters.categories}get scopes(){return xt.getters.scopes}get profiles(){return xt.state.profiles}open(t){t&&(t.start?this.event=t:this.timestamp=t),this.model=!0}close(){this.model=!1,this.timestamp=void 0}async onEventSave(t){if(t){this.loading=!0;try{await xt.actions.addEvent(t),this.model=!1}catch(e){console.error(e)}finally{this.loading=!1}}}};ue=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?de(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&ce(e,s,n),n})([D({components:{NewEvent:le}})],ue);const pe={};var me=Pt(ue,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(w,{attrs:{fullscreen:t.fullscreenModal,"max-width":"700px"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},[t.model?s(le,{attrs:{timestamp:t.timestamp,event:t.event,loading:t.loading,categories:t.categories,scopes:t.scopes,profiles:t.profiles},on:{close:t.close,save:t.onEventSave}}):t._e()],1)}),[],!1,(function(t){for(let e in pe)this[e]=pe[e]}),"4924db8a",null,null);me.options.__file="src/partials/dialogs/NewEventDialog.vue";var ve=me.exports,fe=Object.defineProperty,he=Object.getOwnPropertyDescriptor;let ge=class extends p{mounted(){this.$dialogs.profileDialog=this.$refs.profileDialog,this.$dialogs.confirm=this.$refs.confirmDialog,this.$dialogs.newEventDialog=this.$refs.newEventDialog,this.$dialogs.editEventDialog=this.$refs.editEventDialog}};ge=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?he(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&fe(e,s,n),n})([D({components:{AddProfileDialog:$t,ConfirmDialog:Ut,NewEventDialog:ve,EditEventDialog:ee}})],ge);const ye={};var De=Pt(ge,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("AddProfileDialog",{ref:"profileDialog"}),e("ConfirmDialog",{ref:"confirmDialog"}),e("NewEventDialog",{ref:"newEventDialog"}),e("EditEventDialog",{ref:"editEventDialog"})],1)}),[],!1,(function(t){for(let e in ye)this[e]=ye[e]}),"82c318f2",null,null);De.options.__file="src/partials/dialogs/Dialogs.vue";var we=De.exports;var xe=Object.defineProperty,_e=Object.getOwnPropertyDescriptor;let be=class extends p{constructor(){super(...arguments),this.selectedItem=null}get currentProfile(){return xt.getters.userProfile}get userProfiles(){return xt.state.profiles}get selectedProfile(){return xt.getters.userProfile}mounted(){this.selectedItem=this.currentProfile}userInitials(t){return function(t){var e,s;const r=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),a=[...t.matchAll(r)];return(((null==(e=a.shift())?void 0:e[1])||"")+((null==(s=a.pop())?void 0:s[1])||"")).toUpperCase()}(t)}addProfile(){this.$dialogs.profileDialog.open()}selectCurrentProfile(t){this.selectedItem=t,xt.commit("setSelectedProfile",t.Id)}};be=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?_e(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&xe(e,s,n),n})([D],be);const Ee={};var ke=Pt(be,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(R,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(P,t._g(t._b({attrs:{icon:"",fab:""}},"v-btn",a,!1),r),[s(_,{attrs:{color:t.currentProfile.Color,size:"40"}},[s("span",{staticClass:"white--text text-subtitle-1"},[t._v(t._s(t.userInitials(t.currentProfile.Title)))])])],1)]}}])},[s(J,{attrs:{nav:""}},[s(K,{attrs:{color:"primary"},model:{value:t.selectedItem,callback:function(e){t.selectedItem=e},expression:"selectedItem"}},[t._l(t.userProfiles,(function(e){return[s(X,{key:e.Id,on:{click:function(s){return t.selectCurrentProfile(e)}}},[s(G,[s(_,{attrs:{color:e.Color,size:"40"}},[s("span",{staticClass:"white--text text-subtitle-1"},[t._v(t._s(t.userInitials(e.Title)))])])],1),s(Q,[t._v(t._s(e.Title))])],1)]}))],2),s(X,{attrs:{link:""},on:{click:t.addProfile}},[s(G,[s(b,[t._v("mdi-plus")])],1),s(Q,[t._v("Add")])],1)],1)],1)}),[],!1,(function(t){for(let e in Ee)this[e]=Ee[e]}),"5e5d1df7",null,null);ke.options.__file="src/partials/navigation/UserAccounts.vue";var Ce=ke.exports,Te=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor;let Se=class extends p{toggleAppTheme(){this.$vuetify.theme.dark=!this.$vuetify.theme.dark;const t=this.$vuetify.theme.dark?"dark":"light";localStorage.setItem("xshed.app-theme",t)}};Se=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Pe(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Te(e,s,n),n})([D({components:{UserAccounts:Ce}})],Se);const Oe={};var $e=Pt(Se,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(Z,{attrs:{app:"",dense:"",elevation:"3"}},[s("div",{staticClass:"d-flex w-100",class:{container:this.$vuetify.breakpoint.lgAndUp}},[s(P,{staticClass:"btn-black",attrs:{tile:"",icon:"",fab:"",exact:"",to:{name:"Home"}}},[s(b,[t._v("mdi-home")])],1),s(A),s(P,{staticClass:"btn-black",attrs:{icon:"",tile:""},on:{click:t.toggleAppTheme}},[s(b,[t._v("mdi-theme-light-dark")])],1),s(P,{staticClass:"btn-black",attrs:{icon:"",tile:"",exact:"",to:{name:"Settings"}}},[s(b,[t._v("mdi-cog")])],1),s("UserAccounts")],1)])}),[],!1,(function(t){for(let e in Oe)this[e]=Oe[e]}),"156b43f2",null,null);$e.options.__file="src/partials/Navigation.vue";var Ie=$e.exports,je=Object.defineProperty,Ae=Object.getOwnPropertyDescriptor;let Me=class extends p{mounted(){this.restoreAppTheme()}restoreAppTheme(){const t=localStorage.getItem("xshed.app-theme");this.$vuetify.theme.dark=!(!t||"dark"!==t)}};Me=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Ae(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&je(e,s,n),n})([D({components:{Dialogs:we,Navigation:Ie}})],Me);const Fe={};var Ne=Pt(Me,(function(){var t=this.$createElement,e=this._self._c||t;return e(tt,[e("Navigation"),e(et,{staticClass:"mt-4 mx-2"},[e("router-view")],1),e("Dialogs")],1)}),[],!1,(function(t){for(let e in Fe)this[e]=Fe[e]}),null,null,null);Ne.options.__file="src/App.vue";var Ue=Ne.exports;let Be;const He={};var Le=Object.defineProperty,Re=Object.getOwnPropertyDescriptor,qe=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?Re(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Le(e,s,n),n};let Ve=class extends p{created(){this.restoreCalendarType()}storeCalendarType(t){localStorage.setItem("xshed.calendar-view",t)}restoreCalendarType(){this.view=localStorage.getItem("xshed.calendar-view")||"day"}};qe([st()],Ve.prototype,"view",2),Ve=qe([D],Ve);const We={};var ze=Pt(Ve,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(rt,{staticClass:"calendar-view-switcher",attrs:{borderless:"",mandatory:""},on:{change:t.storeCalendarType},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}},[s(P,{attrs:{value:"day",text:"",color:"grey darken-2"}},[s("span",{staticClass:"hidden-md-and-down me-1"},[t._v("Day")]),s(b,[t._v("mdi-calendar-today")])],1),s(P,{attrs:{value:"week",text:"",color:"grey darken-2"}},[s("span",{staticClass:"hidden-md-and-down me-1"},[t._v("Week")]),s(b,[t._v("mdi-calendar-range")])],1),s(P,{attrs:{value:"month",text:"",color:"grey darken-2"}},[s("span",{staticClass:"hidden-md-and-down me-1"},[t._v("Month")]),s(b,[t._v("mdi-calendar-month")])],1),s(P,{attrs:{value:"category",text:"",color:"grey darken-2"}},[s("span",{staticClass:"hidden-md-and-down me-1"},[t._v("Profiles")]),s(b,[t._v("mdi-select-compare")])],1)],1)}),[],!1,(function(t){for(let e in We)this[e]=We[e]}),"9f5ebb54",null,null);ze.options.__file="src/components/home/CalendarViewSwitcher.vue";var Ye=ze.exports,Je=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,Xe=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?Ke(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Je(e,s,n),n};let Ge=class extends p{constructor(){super(...arguments),this.dateMenu=!1}get datePickerType(){return"month"===this.view?"MONTH":"DATE"}nextTimestamp(){}prevTimestamp(){}toToday(){}openDialog(){}};Xe([st()],Ge.prototype,"view",2),Xe([M()],Ge.prototype,"dateString",2),Xe([at("date")],Ge.prototype,"date_",2),Xe([F()],Ge.prototype,"nextTimestamp",1),Xe([F()],Ge.prototype,"prevTimestamp",1),Xe([F()],Ge.prototype,"toToday",1),Xe([F()],Ge.prototype,"openDialog",1),Ge=Xe([D({components:{CalendarViewSwitcher:Ye}})],Ge);const Qe={};var Ze=Pt(Ge,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"calendar-ribbon"},[s(x,[s(H,{attrs:{"no-gutters":""}},[s(L,{staticClass:"d-flex",attrs:{cols:"12",sm:""}},[s(nt,{attrs:{bottom:"","open-delay":"900"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(P,t._g(t._b({staticClass:"mr-2",attrs:{outlined:"",large:"",color:"grey darken-2"},on:{click:t.openDialog}},"v-btn",a,!1),r),[s(b,[t._v("mdi-calendar-plus")]),s("span",{staticClass:"hidden-sm-and-down ms-1"},[t._v("Add event")])],1)]}}])},[s("span",[t._v("Add office visit")])]),s(nt,{attrs:{bottom:"","open-delay":"900"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(P,t._g(t._b({attrs:{outlined:"",large:"",color:"grey darken-2"},on:{click:t.toToday}},"v-btn",a,!1),r),[s(b,[t._v("mdi-calendar-cursor")]),s("span",{staticClass:"hidden-md-and-down ms-1"},[t._v("Show today")])],1)]}}])},[s("span",[t._v("Move to today date")])]),s(A),t.$vuetify.breakpoint.smAndDown?s(Ye,{model:{value:t.view,callback:function(e){t.view=e},expression:"view"}}):t._e()],1),s(L,{attrs:{cols:"12",sm:""}},[s(k,{staticClass:"d-flex align-center justify-space-between mx-2 text-truncate",attrs:{outlined:""}},[s(P,{staticClass:"px-0",attrs:{text:"",large:"",color:"grey darken-2","min-width":"40"},on:{click:t.prevTimestamp}},[s(b,[t._v("mdi-chevron-left")])],1),s(R,{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[s(P,t._g(t._b({staticStyle:{"letter-spacing":"normal","font-weight":"normal"},attrs:{text:""}},"v-btn",a,!1),r),[t.dateString?s($,{staticClass:"mx-4"},[t._v(" "+t._s(t.dateString)+" ")]):t._e()],1)]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[s(q,{attrs:{"active-picker":t.datePickerType,"no-title":"",scrollable:""},on:{input:function(e){t.dateMenu=!1}},model:{value:t.date_,callback:function(e){t.date_=e},expression:"date_"}})],1),s(P,{staticClass:"px-0",attrs:{text:"",large:"",color:"grey darken-2","min-width":"40"},on:{click:t.nextTimestamp}},[s(b,[t._v("mdi-chevron-right")])],1)],1)],1),t.$vuetify.breakpoint.mdAndUp?s(L,[s(Ye,{staticClass:"d-flex justify-end",model:{value:t.view,callback:function(e){t.view=e},expression:"view"}})],1):t._e()],1)],1)],1)}),[],!1,(function(t){for(let e in Qe)this[e]=Qe[e]}),"396e2ca1",null,null);Ze.options.__file="src/components/home/CalendarRibbon.vue";var ts=Ze.exports;function es(t){if(!t)return"#111";let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);let s="#";for(let r=0;r<3;r++){s+=("00"+(e>>8*r&255).toString(16)).substr(-2)}return s}var ss=Object.defineProperty,rs=Object.getOwnPropertyDescriptor,as=(t,e,s,r)=>{for(var a,n=r>1?void 0:r?rs(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&ss(e,s,n),n};let ns=class extends p{get getComment(){return this.visit.comment||"The event comment was not provided"}get getEventColor(){return this.visit?es(this.visit.type):"#222"}get getTextColorClass(){return`${Et(this.getEventColor)?"white":"black"}--text`}get isBackgroundWhite(){return Et(this.getEventColor)}openEditDialog(t){this.$dialogs.editEventDialog.open(t)}async deleteVisitEvent(t){if(t.id){await this.$dialogs.confirm.open("Delete","Are you sure you want to delete this visit?",{color:"error"})&&(await xt.actions.deleteEvent(t),this.close())}}close(){}};as([M({type:Object,required:!0})],ns.prototype,"visit",2),as([F()],ns.prototype,"close",1),ns=as([D],ns);const os={};var is=Pt(ns,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(k,{attrs:{flat:"","min-width":"350px"}},[s(O,{class:t.getTextColorClass,attrs:{color:t.getEventColor}},[s($,{staticClass:"ml-3",domProps:{textContent:t._s(t.visit.name)}}),s(A),s(P,{attrs:{dark:t.isBackgroundWhite,icon:""},on:{click:t.close}},[s(b,{class:t.getTextColorClass},[t._v("mdi-window-close")])],1)],1),s(I,[s("div",{staticClass:"mb-2"},[s("h3",[t._v("Comment")]),s("div",{staticClass:"subtitle-1"},[t._v(" "+t._s(t.getComment)+" ")])])]),s(j,[s(P,{attrs:{color:"error",elevation:"0"},on:{click:function(e){return t.deleteVisitEvent(t.visit)}}},[s(b,{staticClass:"mr-2"},[t._v("mdi-delete")]),t._v(" Delete ")],1),s(P,{attrs:{color:"primary",elevation:"0"},on:{click:function(e){return t.openEditDialog(t.visit)}}},[s(b,{staticClass:"mr-2"},[t._v("mdi-pencil")]),t._v(" Edit ")],1)],1)],1)}),[],!1,(function(t){for(let e in os)this[e]=os[e]}),"7ddd77a4",null,null);is.options.__file="src/components/home/VisitEventMenuPreview.vue";var ls=is.exports;function cs(t,e){const{down:s,roundTo:r}=i(i({},{down:!1,roundTo:60}),e),a=60*r*1e3;return s?t-t%a:t+(a-t%a)}function ds(t){return new Date(t.year,t.month-1,t.day,t.hour,t.minute).getTime()}var us=Object.defineProperty,ps=Object.getOwnPropertyDescriptor;let ms=class extends p{constructor(){super(...arguments),this.view="day",this.currentDate="",this.calendarReady=!1,this.weekdays=[1,2,3,4,5,6,0],this.roundMinutes=15,this.selectedEvent=null,this.selectedElement=null,this.dragEvent=!1,this.draftEvent=null,this.extendEvent=null,this.selectedOpen=!1}get calendarInstance(){return this.$refs.calendar}get calendarTitle(){if(!this.calendarReady)return"";const t=this.calendarInstance.title;if("day"===this.view){return`${this.currentDate?Number(this.currentDate.split("-").pop()):(new Date).getDate()} ${t}`}if("week"===this.view){const t=this.calendarInstance.lastStart,e=this.calendarInstance.lastEnd,s=t.day,r=e.day,a=new Date(t.date).toLocaleString("en-US",{month:"short"}),n=new Date(e.date).toLocaleString("en-US",{month:"short"});return`${s} ${a===n?"":a} ${t.year===e.year?"":t.year} - ${r} ${n} ${e.year}`}return t}get nowY(){return this.calendarReady?this.calendarInstance.timeToY(this.calendarInstance.times.now)+"px":"-10px"}get events(){if("month"===this.view)return xt.getters.profileEvents;{const t="category"===this.view?[...xt.getters.events]:[...xt.getters.profileEvents];if(this.dragEvent&&t.push(this.draftEvent),this.extendEvent){const e=t.findIndex((t=>t.id===this.extendEvent.id));e>=0&&p.set(t,e,this.extendEvent)}return t}}get userProfileCategories(){return xt.state.profiles.slice()}mounted(){this.calendarInstance.checkChange(),this.calendarReady=!0}toToday(){this.currentDate=""}setViewDay({date:t}){this.currentDate=t,this.view="day"}nextTimestamp(){this.calendarInstance.next()}prevTimestamp(){this.calendarInstance.prev()}getEventColor(t){var e;const s=t.type?es(t.type):"#000000";return t.id===(null==(e=this.extendEvent)?void 0:e.id)?`${s}B3`:s}showEvent(t){const{nativeEvent:e,event:s}=t,r=()=>{var t;const r=this.selectedEvent;if(this.selectedEvent=s,this.selectedElement=e.target,(null==r?void 0:r.id)===(null==(t=this.selectedEvent)?void 0:t.id))return this.$dialogs.editEventDialog.open(this.selectedEvent),void(this.selectedOpen=!1);setTimeout((()=>{this.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r()}mouseDownExistEvent({nativeEvent:t}){t.stopPropagation()}createDraftEvent(t){if(!this.dragEvent&&null===this.draftEvent){const e=ds(t),s=new Date(cs(e,{roundTo:this.roundMinutes,down:!0})),r=t.category?t.category:xt.getters.userProfile;this.dragEvent=!0,this.draftEvent={name:"#Draft event",start:ht(s),category:r.Title},this.updateDraftEvent(t)}}updateDraftEvent(t){const e=ds(t),s=new Date(cs(e,{roundTo:this.roundMinutes}));if(this.dragEvent&&null!==this.draftEvent){const t=new Date(this.draftEvent.start);t.setHours(s.getHours()),t.setMinutes(s.getMinutes()),this.draftEvent=l(i({},this.draftEvent),{end:ht(t)})}else if(this.extendEvent){const t=new Date(this.extendEvent.start);t.setHours(s.getHours()),t.setMinutes(s.getMinutes()),this.extendEvent.end=ht(t)}}async endDraftEvent(){if(this.dragEvent=!1,this.draftEvent&&(this.openNewEventDialog(this.draftEvent),this.draftEvent=null),this.extendEvent){const t=this.extendEvent;this.extendEvent=null,await xt.actions.updatePartialEvent({Id:t.id,End:t.end})}}cancelDrag(){this.dragEvent=!1,this.draftEvent=null,this.extendEvent=null}extendEventBottom(t){this.extendEvent=t}openNewEventDialog(t){this.$dialogs.newEventDialog.open(t)}closeSelectedEventMenu(){this.selectedOpen=!1}getTextColor(t){return Et(t.type?es(t.type):"#222")?"white":"black"}};ms=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?ps(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&us(e,s,n),n})([D({components:{CalendarRibbon:ts,VisitEventMenuPreview:ls}})],ms);const vs={};var fs=Pt(ms,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column"},[s(ts,{staticClass:"mb-2",attrs:{date:t.currentDate,"date-string":t.calendarTitle},on:{"update:date":function(e){t.currentDate=e},"to-today":t.toToday,"next-timestamp":t.nextTimestamp,"prev-timestamp":t.prevTimestamp,"open-dialog":function(e){return t.openNewEventDialog()}},model:{value:t.view,callback:function(e){t.view=e},expression:"view"}}),s(ot,{ref:"calendar",style:{"user-select":[this.dragEvent?"none":""]},attrs:{type:t.view,categories:t.userProfileCategories,"category-text":"Title","category-show-all":"","first-time":"7:00","interval-count":14,weekdays:t.weekdays,events:t.events,"event-color":t.getEventColor,"event-text-color":t.getTextColor,locale:"en-US"},on:{"click:interval":t.openNewEventDialog,"click:event":t.showEvent,"click:date":t.setViewDay,"mousedown:event":t.mouseDownExistEvent,"mousedown:time":t.createDraftEvent,"mousemove:time":t.updateDraftEvent,"mouseup:time":t.endDraftEvent,"mousedown:time-category":t.createDraftEvent,"mousemove:time-category":t.updateDraftEvent,"mouseup:time-category":t.endDraftEvent},nativeOn:{mouseleave:function(e){return t.cancelDrag.apply(null,arguments)}},scopedSlots:t._u([{key:"day-body",fn:function(e){var r=e.date,a=e.week;return[s("div",{staticClass:"v-current-time",class:{first:r===a[0].date},style:{top:t.nowY}})]}},{key:"event",fn:function(e){return[s("div",{staticClass:"v-event-draggable px-2",domProps:{innerHTML:t._s(e.eventSummary())}}),e.timed?s("div",{staticClass:"v-event-drag-bottom",on:{mousedown:function(s){return s.stopPropagation(),t.extendEventBottom(e.event)}}}):t._e()]}}]),model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}}),s(R,{attrs:{activator:t.selectedElement,"close-on-content-click":!1,"max-width":"500px","offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[t.selectedEvent?[s(ls,{attrs:{visit:t.selectedEvent},on:{close:t.closeSelectedEventMenu}})]:t._e()],2)],1)}),[],!1,(function(t){for(let e in vs)this[e]=vs[e]}),null,null,null);fs.options.__file="src/partials/home/Calendar.vue";var hs=fs.exports,gs=Object.defineProperty,ys=Object.getOwnPropertyDescriptor;let Ds=class extends p{};Ds=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?ys(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&gs(e,s,n),n})([D({components:{Calendar:hs}})],Ds);const ws={};var xs=Pt(Ds,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home",class:{container:this.$vuetify.breakpoint.lgAndUp}},[e("Calendar")],1)}),[],!1,(function(t){for(let e in ws)this[e]=ws[e]}),null,null,null);xs.options.__file="src/views/Home.vue";var _s=xs.exports,bs=Object.defineProperty,Es=Object.getOwnPropertyDescriptor;let ks=class extends p{async deleteData(){await this.$dialogs.confirm.open("Delete data","All your data will be permanently deleted",{color:"error"})&&(await xt.actions.cleanUpData(),await this.$router.push({name:"Home"}),window.location.reload())}};ks=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Es(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&bs(e,s,n),n})([D],ks);const Cs={};var Ts=Pt(ks,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(x,{staticClass:"settings-data-management py-4 px-6",attrs:{elevation:"1"}},[s(B,[s("h2",[t._v("Data management")]),s("br"),s("div",[t._v(" All you data (events, profiles, etc.) is stored locally in browser's localStorage. "),s("br"),t._v(" Data security is being provided and managed by the browser. "),s("br"),s("a",{ref:"https://developer.mozilla.org/docs/Web/API/Window/localStorage"},[t._v("Learn more")])]),s("div",{staticClass:"mt-5"},[s("div",{staticClass:"text--secondary"},[t._v("You can remove all your data here")]),s(P,{staticClass:"mt-2",attrs:{color:"error"},on:{click:t.deleteData}},[t._v("Delete all data")])],1)])],1)}),[],!1,(function(t){for(let e in Cs)this[e]=Cs[e]}),null,null,null);Ts.options.__file="src/partials/settings/SettingsDataManagement.vue";var Ps=Ts.exports,Ss=Object.defineProperty,Os=Object.getOwnPropertyDescriptor;let $s=class extends p{constructor(){super(...arguments),this.dialog=!1,this.importData_=null}exportData(){const t=JSON.stringify(xt.state),e=new Blob([t],{type:"application/json;charset=utf-8"}),s=`xshed export ${(new Date).toLocaleString()}.json`;it.exports.saveAs(e,s)}async importData(t){if(t){const e=await this.parseFile(t);this.importData_=JSON.parse(e),this.dialog=!0}}parseFile(t){return new Promise(((e,s)=>{const r=new FileReader;r.onload=function(t){var s;e((null==(s=t.target)?void 0:s.result)||"")},r.onerror=function(t){s(t)},r.readAsText(t,"UTF-8")}))}async overwriteData(){await xt.actions.importDataWithOverwrite(this.importData_),this.dialog=!1}async mergeData(){await xt.actions.importData(this.importData_),this.dialog=!1}cancelImport(){this.importData_=null,this.dialog=!1}};$s=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Os(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Ss(e,s,n),n})([D],$s);const Is={};var js=Pt($s,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(x,{staticClass:"settings-session-management py-4 px-6",attrs:{elevation:"1"}},[s(B,[s("h2",[t._v("Session management")]),s("br"),s("div",{staticClass:"text--secondary"},[t._v("Export your current session")]),s(P,{staticClass:"mt-2",attrs:{color:"primary"},on:{click:t.exportData}},[t._v("Export")]),s("div",{staticClass:"text--secondary mt-8"},[t._v("Import your session from file")]),s(lt,{attrs:{clearable:"",placeholder:"Select file",accept:"application/json"},on:{change:t.importData}}),s(w,{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s(k,[s(O,{attrs:{dark:"",color:"error",dense:"",flat:""}},[s($,{staticClass:"white--text"},[t._v("Data merge request")])],1),s(I,{staticClass:"pa-4"},[t._v(" Do you what to merge you data with current session or overwrite it? ")]),s(j,{staticClass:"pt-0"},[s(A),s(P,{attrs:{color:"primary darken-1"},on:{click:t.overwriteData}},[t._v("Overwrite")]),s(P,{attrs:{color:"primary"},on:{click:t.mergeData}},[t._v("Merge")]),s(P,{attrs:{color:"grey",text:""},on:{click:t.cancelImport}},[t._v("Cancel")])],1)],1)],1)],1)],1)}),[],!1,(function(t){for(let e in Is)this[e]=Is[e]}),null,null,null);js.options.__file="src/partials/settings/SettingsSessionManagement.vue";var As=js.exports,Ms=Object.defineProperty,Fs=Object.getOwnPropertyDescriptor;let Ns=class extends p{};Ns=((t,e,s,r)=>{for(var a,n=r>1?void 0:r?Fs(e,s):e,o=t.length-1;o>=0;o--)(a=t[o])&&(n=(r?a(e,s,n):a(n))||n);return r&&n&&Ms(e,s,n),n})([D({components:{SettingsDataManagement:Ps,SettingsSessionManagement:As}})],Ns);const Us={};var Bs=Pt(Ns,(function(){var t=this.$createElement,e=this._self._c||t;return e(U,[e("SettingsSessionManagement"),e("SettingsDataManagement",{staticClass:"mt-4"})],1)}),[],!1,(function(t){for(let e in Us)this[e]=Us[e]}),"f495aef6",null,null);Bs.options.__file="src/views/Settings.vue";var Hs=Bs.exports;p.use(ct);const Ls=new ct({mode:"history",base:"/xshed/",routes:[{path:"/",name:"Home",component:_s},{path:"/settings",name:"Settings",component:Hs},{path:"/about",name:"About",component:()=>function(t,e){if(!e)return t();if(void 0===Be){const t=document.createElement("link").relList;Be=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in He)return;He[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":Be,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((t,e)=>{r.addEventListener("load",t),r.addEventListener("error",e)})):void 0}))).then((()=>t()))}((()=>import("./About.460648da.js")),["/xshed/assets/About.460648da.js","/xshed/assets/vendor.6f3a0895.js","/xshed/assets/vendor.d37f3ae4.css"])}]});p.use(dt);var Rs=new dt({});p.prototype.$dialogs={},p.config.productionTip=!1,new p({router:Ls,store:_t,vuetify:Rs,render:t=>t(Ue)}).$mount("#app");export{Pt as n};
